import requests
from selenium import webdriver

def read_url(url, cookie):    
    options = webdriver.ChromeOptions()
    try:
        for _ in [
            "headless",
            "window-size=1920x1080",
            "disable-gpu",
            "no-sandbox",
            "disable-dev-shm-usage",
        ]:
            options.add_argument(_)
        driver = webdriver.Chrome(options=options)
        driver.implicitly_wait(3)
        driver.set_page_load_timeout(3)
        driver.get('http://127.0.0.1:8000')
        driver.add_cookie(cookie)
        driver.get(url)
    except Exception as e:
        driver.quit()
        return
    driver.quit()
    return

    '''
    session = requests.Session()
    print(session)
    # 쿠키 설정
    session.cookies.set(cookie['name'], cookie['value'], domain='127.0.0.1', path='/')
    print(session.auth)
    try:
        # URL로 GET 요청 보내기
        response = session.get(url)
        response.raise_for_status()  # HTTP 오류 발생 시 예외 발생
        for key, value in session.cookies.items():
            print(f"Cookie: {key} = {value}")
        return response.text

    except requests.RequestException as e:
        return False
    '''
    
