{% extends "base.html" %} {% block content %}
<div class="card mt-5">
  <div class="card-header">
    <h1 class="card-title">{{ question.title }}</h1>
  </div>
  <div class="card-body">
    <form method="post">
      {% csrf_token %}
      <div class="form-group">
        <label for="questionText"><strong>취약한 코드</strong></label>
        <pre><code class="language-html">{{ question.content|safe }}</code></pre>
      </div>
      <div class="form-group">
        <label for="answer">답</label>
        <textarea
          name="answer"
          id="answer"
          rows="5"
          class="form-control"
        ></textarea>
      </div>
      <button type="submit" class="btn btn-primary">제출</button>
    </form>

    <hr />

    {% if injection_successful %}
    <div class="alert alert-success mt-3">정답입니다! SQL Injection 성공!</div>
    <a href="{% url 'show_explanation' %}" class="btn btn-success mt-3"
      >설명 보러가기</a
    >
    <a href="{% url 'solve' %}" class="btn btn-secondary mt-3"
      >다른 문제 풀어보기</a
    >
    {% elif injection_unsuccessful %}
    <div class="alert alert-danger mt-3">
      SQL Injection 실패...다시 시도해보세요!
    </div>
    <button
      class="btn btn-link mt-3"
      onclick="document.getElementById('hint').style.display='block'"
    >
      힌트 보기
    </button>
    <div id="hint" class="alert alert-warning mt-3" style="display: none">
      {{ hint }}
    </div>
    {% endif %}
  </div>
  {% endblock %}
</div>
