from django.http import HttpResponse
from django.shortcuts import get_object_or_404, render

from .models import CodingQuestion


def solve_question(request):
    question = CodingQuestion.objects.first()  # For simplicity, get the first question
    if request.method == "POST":
        user_answer = request.POST.get("answer")
        if user_answer == question.correct_answer:
            return render(
                request, "solve/result.html", {"question": question, "correct": True}
            )
        else:
            return render(
                request, "solve/result.html", {"question": question, "correct": False}
            )
    return render(request, "solve/solve.html", {"question": question})
